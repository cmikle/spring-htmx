<!DOCTYPE html>
<html style="height: 100%">
    <head>
        <meta charset="UTF-8">
        <style>@import "https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.2.2/css/bootstrap.min.css";</style>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
        <script src="https://unpkg.com/htmx.org@1.9.12" integrity="sha384-ujb1lZYygJmzgSwoxRggbCHcjc0rB2XoQrxeTUQyRjrOnlCoYta87iKBWq3EsdM2" crossorigin="anonymous"></script>
        <script src="https://unpkg.com/htmx.org/dist/ext/json-enc.js"></script>
        <script>
            window.addEventListener("closeModal", function() {
                document.getElementById('closeModal').click();
            });
        </script>
        <title>Zolldatenverwaltung</title>
    </head>
    <body style="height: 100%">
        <div class="row justify-content-between">
            <div class="col-4">
                <a href="#" title="Lieferantenerklärung generieren"
                   hx-get="/suppliersDeclarationModal"
                   hx-target="#modal-content"
                   hx-swap="innerHTML"
                   data-bs-toggle="modal"
                   data-bs-target="#modal-singleton"
                >
                    Lieferantenerklärung generieren
                </a>
            </div>
            <div class="col-4">
                User: {{user}}
            </div>
        </div>

        <div class="mb-3">
            <form
               hx-post="/groups"
               hx-target="#mainTable"
               hx-swap="innerHTML"
               hx-ext="json-enc"
            >
                <div class="col-12 w-25 p-3">
                    <label for="productGroup" class="form-label">Nach Produktgruppe filtern</label>
                    <input width="100" type="text" placeholder="3001" class="form-control" id="productGroup" name="productGroup">
                </div>
            </form>
        </div>

        {{>table}}

        <div id="modal-singleton"
             class="modal modal-blur fade"
             aria-hidden="false"
             tabindex="-1"
        >
            <div class="modal-dialog modal-dialog-centered">
                <div id="modal-content" class="modal-content"></div>
            </div>
        </div>
    </body>
</html>